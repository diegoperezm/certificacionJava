<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html>

<head>
	<meta charset="UTF-8">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css"
		th:href="@{/webjars/bootstrap/5.3.1/css/bootstrap.min.css}" rel="stylesheet" />
	<link href="../static/css/styles.css" th:href="@{css/styles.css}" rel="stylesheet" />
	<title>Lista de Películas</title>
</head>

<body>
    <div th:insert="./menu.html :: div"> </div>

	<div class="container">
		<div class="row">
			<div class="col">
				<div th:if="${listaPeliculas !=null and !listaPeliculas.empty}">
					<table class="table table-striped table-hover">
						<tr>
							<th>Id</th>
							<th>Título</th>
							<th>Género</th>
							<th>Lanzamiento</th>
							<th>Promedio Calificación</th>
							<th>Acción</th>
						</tr>
						<tr th:each="pelicula : ${listaPeliculas}">
							<td th:text="${pelicula.id_pelicula}"></td>
							<td th:text="${pelicula.titulo}"></td>
							<td th:text="${pelicula.anio_lanzamiento}"></td>
							<td th:text="${pelicula.genero.nombre_genero}"></td>
							<td> vacio por el momento</td>
							<td> <a th:href="@{/calificarPelicula/{id}(id = ${pelicula.id_pelicula})}"
						        	class="btn btn-primary">calificar</a> </td>
						</tr>

					</table>
				</div>
				<div th:if="${listaPeliculas == null or listaPeliculas.empty}">
					<p>La lista está vacía</p>
				</div>
			</div>
		</div>
	</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>